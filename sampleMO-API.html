<html>
<head>
<meta name="robots" content="noindex, nofollow"/>
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
</head>

<body>

<script type="text/javascript">

  const getStats = async () => {
  const wallet = document.getElementById("YourWallet").value;
  const worker = document.getElementById("workerName").value;

  const globalStatsRes = await fetch('https://api.moneroocean.stream/pool/stats');
  const globalStats = await globalStatsRes.json();
  const APProfits = globalStats.pool_statistics.activePortProfit; // required to calculate hashrate to xmr/day
  const XMRUSD = globalStats.pool_statistics.price.usd; // current price of xmr in usd
  const XMREUR = globalStats.pool_statistics.price.eur; // current price of xmr in eur

  const workerStatsRes = await fetch(`https://api.moneroocean.stream/miner/${wallet}/stats/${worker}`);
  const workerStats = await workerStatsRes.json();
  const currentHashrate = workerStats.hash2; // current hashrate
  const profitPerDay = APProfits * currentHashrate; // profit per day in xmr
  const profitPerDayUSD = profitPerDay * XMRUSD; // profit per day in USD
  const profitPerDayEUR = profitPerDay * XMREUR; // profit per day in EUR
  const profitPerMinute = profitPerDay / 24 / 60; // profit per minute in xmr
  const profitPerMinuteUSD = profitPerMinute * XMRUSD; // profit per minute in USD
  return document.getElementById("stats").innerHTML = 'With empty workername input, you will see full wallet estimate <br>Your hashrate is '+parseFloat(currentHashrate).toFixed(2)+' h/s and you are mining '+ parseFloat(profitPerDayUSD).toFixed(2)+' Dollar | '+ parseFloat(profitPerDayEUR).toFixed(2)+ ' Euro per day!';
}

</script>


<input type="text" id="YourWallet" placeholder="Your Wallet">
<input type="text" id="workerName" placeholder="Your worker name">
<button onclick="getStats()">Show statistics</button>
<p id="stats"></p>

</body>
</html>
